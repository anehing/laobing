<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="com.zdqk.ewm.po.UserLog">
  <typeAlias alias="userLog" type="com.zdqk.ewm.po.UserLog"/>
  <resultMap id="userLogResult" class="userLog">
    <result property="id" column="ID"/>
    <result property="userid" column="USERID"/>
    <result property="usertype" column="USERTYPE"/>
    <result property="userName" column="USERNAME"/>
    <result property="operadate" column="OPERADATE"/>
    <result property="optdate" column="OPTDATE"/>
    <result property="operatype" column="OPERATYPE"/>
    <result property="operadesc" column="OPERADESC"/>
    <result property="ip" column="IP"/>
    <result property="isWorking" column="ISWORKING"/>
  </resultMap>
  <insert id="insert" parameterClass="userLog">insert into USERLOG( ID,USERID,USERTYPE,USERNAME,OPERADATE,OPTDATE,OPERATYPE,OPERADESC,IP,ISWORKING ) values ( #id#,#userid#,#usertype#,#userName#,#operadate#,#optdate#,#operatype#,#operadesc#,#ip#,#isWorking# )</insert>
  <delete id="delete" parameterClass="userLog">delete from USERLOG where id = #id#</delete>
  <update id="update" parameterClass="userLog">update USERLOG 
    <dynamic prepend="set">
      <isNotNull prepend="," property="userid">USERID = #userid#</isNotNull>
      <isNotNull prepend="," property="usertype">USERTYPE = #usertype#</isNotNull>
      <isNotNull prepend="," property="userName">USERNAME = #userName#</isNotNull>
      <isNotNull prepend="," property="operadate">OPERADATE = #operadate#</isNotNull>
      <isNotNull prepend="," property="optdate">OPTDATE = #optdate#</isNotNull>
      <isNotNull prepend="," property="operatype">OPERATYPE = #operatype#</isNotNull>
      <isNotNull prepend="," property="operadesc">OPERADESC = #operadesc#</isNotNull>
      <isNotNull prepend="," property="ip">IP = #ip#</isNotNull>
      <isNotNull prepend="," property="isWorking">ISWORKING = #isWorking#</isNotNull>
    </dynamic>where id = #id#
  </update>
  <select id="findById" parameterClass="java.lang.Long" resultMap="userLogResult">select * from USERLOG where id = #id#</select>
  <select id="findNameById" parameterClass="java.lang.Long" resultMap="userLogResult">select * from USERLOG where id = #id#</select>
  <select id="selectAll" parameterClass="java.util.Map" resultMap="userLogResult">select ID,USERID,USERTYPE,USERNAME,OPERADATE,OPTDATE,OPERATYPE,OPERADESC,IP,ISWORKING from USERLOG
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="userid">USERID = #userid#</isNotNull>
      <isNotNull prepend=" and " property="usertype">USERTYPE = #usertype#</isNotNull>
      <isNotNull prepend=" and " property="userName">USERNAME = #userName#</isNotNull>
      <isNotNull prepend=" and " property="operadate">OPERADATE = #operadate#</isNotNull>
      <isNotNull prepend=" and " property="optdate">OPTDATE = #optdate#</isNotNull>
      <isNotNull prepend=" and " property="operatype">OPERATYPE = #operatype#</isNotNull>
      <isNotNull prepend=" and " property="operadesc">OPERADESC = #operadesc#</isNotNull>
      <isNotNull prepend=" and " property="ip">IP = #ip#</isNotNull>
      <isNotNull prepend=" and " property="isWorking">ISWORKING = #isWorking#</isNotNull>
    </dynamic>
  </select>
  <select id="selectPage" parameterClass="java.util.Map" resultMap="userLogResult">select ID,USERID,USERTYPE,USERNAME,OPERADATE,OPTDATE,OPERATYPE,OPERADESC,IP,ISWORKING from USERLOG
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="userid">USERID = #userid#</isNotNull>
      <isNotNull prepend=" and " property="usertype">USERTYPE = #usertype#</isNotNull>
      <isNotNull prepend=" and " property="userName">USERNAME = #userName#</isNotNull>
      <isNotNull prepend=" and " property="operadate">OPERADATE = #operadate#</isNotNull>
      <isNotNull prepend=" and " property="optdate">OPTDATE = #optdate#</isNotNull>
      <isNotNull prepend=" and " property="operatype">OPERATYPE = #operatype#</isNotNull>
      <isNotNull prepend=" and " property="operadesc">OPERADESC = #operadesc#</isNotNull>
      <isNotNull prepend=" and " property="ip">IP = #ip#</isNotNull>
      <isNotNull prepend=" and " property="isWorking">ISWORKING = #isWorking#</isNotNull>
    </dynamic>order by id desc limit #startIndex#,#endIndex#
  </select>
  <select id="selectCount" parameterClass="java.util.Map" resultClass="java.lang.Long">select count(id) from USERLOG 
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="userid">USERID = #userid#</isNotNull>
      <isNotNull prepend=" and " property="usertype">USERTYPE = #usertype#</isNotNull>
      <isNotNull prepend=" and " property="userName">USERNAME = #userName#</isNotNull>
      <isNotNull prepend=" and " property="operadate">OPERADATE = #operadate#</isNotNull>
      <isNotNull prepend=" and " property="optdate">OPTDATE = #optdate#</isNotNull>
      <isNotNull prepend=" and " property="operatype">OPERATYPE = #operatype#</isNotNull>
      <isNotNull prepend=" and " property="operadesc">OPERADESC = #operadesc#</isNotNull>
      <isNotNull prepend=" and " property="ip">IP = #ip#</isNotNull>
      <isNotNull prepend=" and " property="isWorking">ISWORKING = #isWorking#</isNotNull>
    </dynamic>
  </select>
</sqlMap>
