<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="com.zdqk.laobing.po.Customer_order">
  <typeAlias alias="customer_order" type="com.zdqk.laobing.po.Customer_order"/>
  <resultMap id="customer_orderResult" class="customer_order">
    <result property="id" column="ID"/>
    <result property="customer_telphone" column="CUSTOMER_TELPHONE"/>
    <result property="start_place" column="START_PLACE"/>
    <result property="start_time" column="START_TIME"/>
    <result property="arrive_datetime" column="ARRIVE_DATETIME"/>
    <result property="order_num" column="ORDER_NUM"/>
    <result property="start_datetime" column="START_DATETIME"/>
    <result property="fee" column="FEE"/>
    <result property="driver_num" column="DRIVER_NUM"/>
    <result property="status" column="STATUS"/>
    <result property="create_time" column="CREATE_TIME"/>
    <result property="note" column="NOTE"/>
  </resultMap>
  <insert id="insert" parameterClass="customer_order">insert into CUSTOMER_ORDER( ID,CUSTOMER_TELPHONE,START_PLACE,START_TIME,ARRIVE_DATETIME,ORDER_NUM,START_DATETIME,FEE,DRIVER_NUM,STATUS,CREATE_TIME,NOTE ) values ( #id#,#customer_telphone#,#start_place#,#start_time#,#arrive_datetime#,#order_num#,#start_datetime#,#fee#,#driver_num#,#status#,#create_time#,#note# )</insert>
  <delete id="delete" parameterClass="customer_order">delete from CUSTOMER_ORDER where id = #id#</delete>
  <update id="update" parameterClass="customer_order">update CUSTOMER_ORDER 
    <dynamic prepend="set">
      <isNotNull prepend="," property="customer_telphone">CUSTOMER_TELPHONE = #customer_telphone#</isNotNull>
      <isNotNull prepend="," property="start_place">START_PLACE = #start_place#</isNotNull>
      <isNotNull prepend="," property="start_time">START_TIME = #start_time#</isNotNull>
      <isNotNull prepend="," property="arrive_datetime">ARRIVE_DATETIME = #arrive_datetime#</isNotNull>
      <isNotNull prepend="," property="order_num">ORDER_NUM = #order_num#</isNotNull>
      <isNotNull prepend="," property="start_datetime">START_DATETIME = #start_datetime#</isNotNull>
      <isNotNull prepend="," property="fee">FEE = #fee#</isNotNull>
      <isNotNull prepend="," property="driver_num">DRIVER_NUM = #driver_num#</isNotNull>
      <isNotNull prepend="," property="status">STATUS = #status#</isNotNull>
      <isNotNull prepend="," property="create_time">CREATE_TIME = #create_time#</isNotNull>
      <isNotNull prepend="," property="note">NOTE = #note#</isNotNull>
    </dynamic>where id = #id#
  </update>
  <select id="findById" parameterClass="java.lang.Integer" resultMap="customer_orderResult">select * from CUSTOMER_ORDER where id = #id#</select>
  <select id="findNameById" parameterClass="java.lang.Integer" resultMap="customer_orderResult">select * from CUSTOMER_ORDER where id = #id#</select>
  <select id="selectAll" parameterClass="java.util.Map" resultMap="customer_orderResult">select ID,CUSTOMER_TELPHONE,START_PLACE,START_TIME,ARRIVE_DATETIME,ORDER_NUM,START_DATETIME,FEE,DRIVER_NUM,STATUS,CREATE_TIME,NOTE from CUSTOMER_ORDER
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="customer_telphone">CUSTOMER_TELPHONE = #customer_telphone#</isNotNull>
      <isNotNull prepend=" and " property="start_place">START_PLACE = #start_place#</isNotNull>
      <isNotNull prepend=" and " property="start_time">START_TIME = #start_time#</isNotNull>
      <isNotNull prepend=" and " property="arrive_datetime">ARRIVE_DATETIME = #arrive_datetime#</isNotNull>
      <isNotNull prepend=" and " property="order_num">ORDER_NUM = #order_num#</isNotNull>
      <isNotNull prepend=" and " property="start_datetime">START_DATETIME = #start_datetime#</isNotNull>
      <isNotNull prepend=" and " property="fee">FEE = #fee#</isNotNull>
      <isNotNull prepend=" and " property="driver_num">DRIVER_NUM = #driver_num#</isNotNull>
      <isNotNull prepend=" and " property="status">STATUS = #status#</isNotNull>
      <isNotNull prepend=" and " property="create_time">CREATE_TIME = #create_time#</isNotNull>
      <isNotNull prepend=" and " property="note">NOTE = #note#</isNotNull>
    </dynamic>
  </select>
  <select id="selectPage" parameterClass="java.util.Map" resultMap="customer_orderResult">select ID,CUSTOMER_TELPHONE,START_PLACE,START_TIME,ARRIVE_DATETIME,ORDER_NUM,START_DATETIME,FEE,DRIVER_NUM,STATUS,CREATE_TIME,NOTE from CUSTOMER_ORDER
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="customer_telphone">CUSTOMER_TELPHONE = #customer_telphone#</isNotNull>
      <isNotNull prepend=" and " property="start_place">START_PLACE = #start_place#</isNotNull>
      <isNotNull prepend=" and " property="start_time">START_TIME = #start_time#</isNotNull>
      <isNotNull prepend=" and " property="arrive_datetime">ARRIVE_DATETIME = #arrive_datetime#</isNotNull>
      <isNotNull prepend=" and " property="order_num">ORDER_NUM = #order_num#</isNotNull>
      <isNotNull prepend=" and " property="start_datetime">START_DATETIME = #start_datetime#</isNotNull>
      <isNotNull prepend=" and " property="fee">FEE = #fee#</isNotNull>
      <isNotNull prepend=" and " property="driver_num">DRIVER_NUM = #driver_num#</isNotNull>
      <isNotNull prepend=" and " property="status">STATUS = #status#</isNotNull>
      <isNotNull prepend=" and " property="create_time">CREATE_TIME = #create_time#</isNotNull>
      <isNotNull prepend=" and " property="note">NOTE = #note#</isNotNull>
    </dynamic>order by id desc limit #startIndex#,#endIndex#
  </select>
  <select id="selectCount" parameterClass="java.util.Map" resultClass="java.lang.Long">select count(id) from CUSTOMER_ORDER 
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="customer_telphone">CUSTOMER_TELPHONE = #customer_telphone#</isNotNull>
      <isNotNull prepend=" and " property="start_place">START_PLACE = #start_place#</isNotNull>
      <isNotNull prepend=" and " property="start_time">START_TIME = #start_time#</isNotNull>
      <isNotNull prepend=" and " property="arrive_datetime">ARRIVE_DATETIME = #arrive_datetime#</isNotNull>
      <isNotNull prepend=" and " property="order_num">ORDER_NUM = #order_num#</isNotNull>
      <isNotNull prepend=" and " property="start_datetime">START_DATETIME = #start_datetime#</isNotNull>
      <isNotNull prepend=" and " property="fee">FEE = #fee#</isNotNull>
      <isNotNull prepend=" and " property="driver_num">DRIVER_NUM = #driver_num#</isNotNull>
      <isNotNull prepend=" and " property="status">STATUS = #status#</isNotNull>
      <isNotNull prepend=" and " property="create_time">CREATE_TIME = #create_time#</isNotNull>
      <isNotNull prepend=" and " property="note">NOTE = #note#</isNotNull>
    </dynamic>
  </select>
</sqlMap>
