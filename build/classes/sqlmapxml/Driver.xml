<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="com.zdqk.laobing.po.Driver">
  <typeAlias alias="driver" type="com.zdqk.laobing.po.Driver"/>
  <resultMap id="driverResult" class="driver">
    <result property="id" column="ID"/>
    <result property="job_status" column="JOB_STATUS"/>
    <result property="stars" column="STARS"/>
    <result property="sex" column="SEX"/>
    <result property="age" column="AGE"/>
    <result property="provinceid" column="PROVINCEID"/>
    <result property="cityid" column="CITYID"/>
    <result property="year" column="YEAR"/>
    <result property="times" column="TIMES"/>
    <result property="name" column="NAME"/>
    <result property="telphone" column="TELPHONE"/>
    <result property="ident_num" column="IDENT_NUM"/>
    <result property="picture" column="PICTURE"/>
    <result property="city" column="CITY"/>
    <result property="drive_card" column="DRIVE_CARD"/>
    <result property="servicefee" column="SERVICEFEE"/>
  </resultMap>
  <insert id="insert" parameterClass="driver">insert into DRIVER( ID,JOB_STATUS,STARS,SEX,AGE,PROVINCEID,CITYID,YEAR,TIMES,NAME,TELPHONE,IDENT_NUM,PICTURE,CITY,DRIVE_CARD,SERVICEFEE ) values ( #id#,#job_status#,#stars#,#sex#,#age#,#provinceid#,#cityid#,#year#,#times#,#name#,#telphone#,#ident_num#,#picture#,#city#,#drive_card#,#servicefee# )</insert>
  <delete id="delete" parameterClass="driver">delete from DRIVER where id = #id#</delete>
  <update id="update" parameterClass="driver">update DRIVER 
    <dynamic prepend="set">
      <isNotNull prepend="," property="job_status">JOB_STATUS = #job_status#</isNotNull>
      <isNotNull prepend="," property="stars">STARS = #stars#</isNotNull>
      <isNotNull prepend="," property="sex">SEX = #sex#</isNotNull>
      <isNotNull prepend="," property="age">AGE = #age#</isNotNull>
      <isNotNull prepend="," property="provinceid">PROVINCEID = #provinceid#</isNotNull>
      <isNotNull prepend="," property="cityid">CITYID = #cityid#</isNotNull>
      <isNotNull prepend="," property="year">YEAR = #year#</isNotNull>
      <isNotNull prepend="," property="times">TIMES = #times#</isNotNull>
      <isNotNull prepend="," property="name">NAME = #name#</isNotNull>
      <isNotNull prepend="," property="telphone">TELPHONE = #telphone#</isNotNull>
      <isNotNull prepend="," property="ident_num">IDENT_NUM = #ident_num#</isNotNull>
      <isNotNull prepend="," property="picture">PICTURE = #picture#</isNotNull>
      <isNotNull prepend="," property="city">CITY = #city#</isNotNull>
      <isNotNull prepend="," property="drive_card">DRIVE_CARD = #drive_card#</isNotNull>
      <isNotNull prepend="," property="servicefee">SERVICEFEE = #servicefee#</isNotNull>
    </dynamic>where id = #id#
  </update>
  <select id="findById" parameterClass="java.lang.Integer" resultMap="driverResult">select * from DRIVER where id = #id#</select>
  <select id="findNameById" parameterClass="java.lang.Integer" resultMap="driverResult">select * from DRIVER where id = #id#</select>
  <select id="selectAll" parameterClass="java.util.Map" resultMap="driverResult">select ID,JOB_STATUS,STARS,SEX,AGE,PROVINCEID,CITYID,YEAR,TIMES,NAME,TELPHONE,IDENT_NUM,PICTURE,CITY,DRIVE_CARD,SERVICEFEE from DRIVER
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="job_status">JOB_STATUS = #job_status#</isNotNull>
      <isNotNull prepend=" and " property="stars">STARS = #stars#</isNotNull>
      <isNotNull prepend=" and " property="sex">SEX = #sex#</isNotNull>
      <isNotNull prepend=" and " property="age">AGE = #age#</isNotNull>
      <isNotNull prepend=" and " property="provinceid">PROVINCEID = #provinceid#</isNotNull>
      <isNotNull prepend=" and " property="cityid">CITYID = #cityid#</isNotNull>
      <isNotNull prepend=" and " property="year">YEAR = #year#</isNotNull>
      <isNotNull prepend=" and " property="times">TIMES = #times#</isNotNull>
      <isNotNull prepend=" and " property="name">NAME = #name#</isNotNull>
      <isNotNull prepend=" and " property="telphone">TELPHONE like '%$telphone$%'</isNotNull>
      <isNotNull prepend=" and " property="ident_num">IDENT_NUM = #ident_num#</isNotNull>
      <isNotNull prepend=" and " property="picture">PICTURE = #picture#</isNotNull>
      <isNotNull prepend=" and " property="city">CITY = #city#</isNotNull>
      <isNotNull prepend=" and " property="drive_card">DRIVE_CARD = #drive_card#</isNotNull>
      <isNotNull prepend=" and " property="servicefee">SERVICEFEE = #servicefee#</isNotNull>
    </dynamic>
  </select>
  <select id="selectPage" parameterClass="java.util.Map" resultMap="driverResult">select ID,JOB_STATUS,STARS,SEX,AGE,PROVINCEID,CITYID,YEAR,TIMES,NAME,TELPHONE,IDENT_NUM,PICTURE,CITY,DRIVE_CARD,SERVICEFEE from DRIVER
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="job_status">JOB_STATUS = #job_status#</isNotNull>
      <isNotNull prepend=" and " property="stars">STARS = #stars#</isNotNull>
      <isNotNull prepend=" and " property="sex">SEX = #sex#</isNotNull>
      <isNotNull prepend=" and " property="age">AGE = #age#</isNotNull>
      <isNotNull prepend=" and " property="provinceid">PROVINCEID = #provinceid#</isNotNull>
      <isNotNull prepend=" and " property="cityid">CITYID = #cityid#</isNotNull>
      <isNotNull prepend=" and " property="year">YEAR = #year#</isNotNull>
      <isNotNull prepend=" and " property="times">TIMES = #times#</isNotNull>
      <isNotNull prepend=" and " property="name">NAME = #name#</isNotNull>
      <isNotNull prepend=" and " property="telphone">TELPHONE like '%$telphone$%'</isNotNull>
      <isNotNull prepend=" and " property="ident_num">IDENT_NUM = #ident_num#</isNotNull>
      <isNotNull prepend=" and " property="picture">PICTURE = #picture#</isNotNull>
      <isNotNull prepend=" and " property="city">CITY = #city#</isNotNull>
      <isNotNull prepend=" and " property="drive_card">DRIVE_CARD = #drive_card#</isNotNull>
      <isNotNull prepend=" and " property="servicefee">SERVICEFEE = #servicefee#</isNotNull>
    </dynamic>order by id desc limit #startIndex#,#endIndex#
  </select>
  <select id="selectCount" parameterClass="java.util.Map" resultClass="java.lang.Long">select count(id) from DRIVER 
    <dynamic prepend="where">
      <isNotNull prepend=" and " property="job_status">JOB_STATUS = #job_status#</isNotNull>
      <isNotNull prepend=" and " property="stars">STARS = #stars#</isNotNull>
      <isNotNull prepend=" and " property="sex">SEX = #sex#</isNotNull>
      <isNotNull prepend=" and " property="age">AGE = #age#</isNotNull>
      <isNotNull prepend=" and " property="provinceid">PROVINCEID = #provinceid#</isNotNull>
      <isNotNull prepend=" and " property="cityid">CITYID = #cityid#</isNotNull>
      <isNotNull prepend=" and " property="year">YEAR = #year#</isNotNull>
      <isNotNull prepend=" and " property="times">TIMES = #times#</isNotNull>
      <isNotNull prepend=" and " property="name">NAME = #name#</isNotNull>
      <isNotNull prepend=" and " property="telphone">TELPHONE like '%$telphone$%'</isNotNull>
      <isNotNull prepend=" and " property="ident_num">IDENT_NUM = #ident_num#</isNotNull>
      <isNotNull prepend=" and " property="picture">PICTURE = #picture#</isNotNull>
      <isNotNull prepend=" and " property="city">CITY = #city#</isNotNull>
      <isNotNull prepend=" and " property="drive_card">DRIVE_CARD = #drive_card#</isNotNull>
      <isNotNull prepend=" and " property="servicefee">SERVICEFEE = #servicefee#</isNotNull>
    </dynamic>
  </select>
</sqlMap>
